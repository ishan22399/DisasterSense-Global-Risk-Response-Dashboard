# Render Deployment Configuration
# Place this file in the root directory for automatic deployment

services:
  - type: web
    name: disastersense-backend
    runtime: python
    buildCommand: pip install -r backend/requirements.txt
    startCommand: gunicorn server:app --workers 1 --worker-class uvicorn.workers.UvicornWorker --bind 0.0.0.0:$PORT --timeout 120 --graceful-timeout 30 --max-requests 1000 --max-requests-jitter 100
    envVars:
      - key: PYTHON_VERSION
        value: 3.12
      - key: MONGO_URL
        scope: secret
      - key: DB_NAME
        value: disaster_sense
      - key: CORS_ORIGINS
        value: "*"
      - key: OPENWEATHER_API_KEY
        scope: secret
      - key: AQICN_API_KEY
        scope: secret
      - key: NEWS_API_KEY
        scope: secret
      - key: YOUTUBE_API_KEY
        scope: secret
      - key: GOOGLE_GEOCODING_API_KEY
        scope: secret
      - key: GOOGLE_MAPS_API_KEY
        scope: secret
      - key: GOOGLE_API_KEY
        scope: secret
